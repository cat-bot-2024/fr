<!DOCTYPE html>
<html>
<head>
  <title>Formulaire de contact</title>
	    <link href="styles.css" rel="stylesheet">

</head>
<body>
  <form id="contact-form">
    <label for="username">Pseudo :</label>
    <input type="text" id="username" name="username" required>
    <br>
    <label for="message">Message :</label>
    <textarea id="message" name="message" required></textarea>
    <br>
    <input type="submit" value="Envoyer">
  </form>

  <script>
    const form = document.getElementById('contact-form');
    form.addEventListener('submit', e => {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const message = document.getElementById('message').value;

      const data = {
        username: 'Nouveau formulaire',
        content: `Nouveau formulaire envoyé par :\nPseudo : ${username}\nMessage : ${message}`
      };

      const options = {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      };

      fetch('https://discord.com/api/webhooks/1232645671685722146/8A1EGJxYc-ZNKAKQ0rxypDPgkxHxh7N7m7oCbuskNKXSXcxyhIFHTDtcikJ0l5BQUxGX', options)
        .then(response => {
          if (!response.ok) {
            throw new Error('Erreur lors de l\'envoi du formulaire');
          }
          alert('Formulaire envoyé avec succès !');
          form.reset();
        })
        .catch(error => {
          console.error(error);
          alert('Une erreur s\'est produite lors de l\'envoi du formulaire');
        });
    });
  </script>
</body>
</html>
